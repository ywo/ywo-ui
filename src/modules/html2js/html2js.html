<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
</head>
<body>
<textarea name="input" id="input" cols="80" rows="10">

</textarea>
<label><input type="checkbox" id="js"> javascript前缀</label>
<button id="btn">生成</button>
<textarea name="output" id="output" cols="80" rows="10" onfocus="this.select()"></textarea>
<script>
    (function(){
      var input = document.getElementById('input');
      var output = document.getElementById('output');
      var js = document.getElementById('js');
      var btn = document.getElementById('btn');
      btn.onclick = function (argument) {
          var text = input.value;
          text = text.trim()
                 .replace(/[\r\n\t]/g, '')
                 .replace(/\s+/g, ' ')
                 .replace(/\\/g, '\\\\')
                 .replace(/'/g, '\\x27')
                 .replace(/"/g, '\\x22')
                 .replace(/\//g, '\\/')
                 .replace(/\n/g, '\\n')
                 .replace(/\r/g, '\\r')
                 .replace(/\t/g, '\\t')

          text = 'document.write(\'' + text + '\')';
          output.value = text;
      }
  })();
</script>
</body>
</html>